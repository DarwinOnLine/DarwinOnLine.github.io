<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel='shortcut icon' href='favicon.ico' type='image/x-icon' />
    <link rel='icon' href='https://github.com/DarwinOnLine.png' type='image/png' />
    <title>404 - Darwin On Line</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #000;
            overflow: hidden;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }

        #space {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .content {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
            text-align: center;
            color: #fff;
        }

        .lost-text {
            font-size: 3rem;
            font-weight: 300;
            margin: 0 0 1rem 0;
            color: #fff;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
        }

        #warp {
            display: inline-block;
            padding: 1rem 3rem;
            font-size: 1.2rem;
            font-weight: 600;
            color: #fff;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            text-decoration: none;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        #warp:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.4);
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(209, 255, 255, 0.3);
        }

        @media (max-width: 768px) {
            .lost-text {
                font-size: 2rem;
            }

            #warp {
                padding: 0.8rem 2rem;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <canvas id="space"></canvas>

    <div class="content">
        <p class="lost-text">Lost ?</p>
        <span id="warp">Back home</span>
    </div>

    <script type="text/javascript">
        // Based on an example by @curran
        window.requestAnimFrame = (function(){
            return window.requestAnimationFrame ||
                   window.webkitRequestAnimationFrame ||
                   window.mozRequestAnimationFrame ||
                   function(callback){ window.setTimeout(callback, 1000 / 60); };
        })();

        var canvas = document.getElementById("space");
        var c = canvas.getContext("2d");

        var numStars = 1900;
        var radius = '0.' + Math.floor(Math.random() * 9) + 1;
        var focalLength = canvas.width * 2;
        var warp = 0;
        var centerX, centerY;

        var stars = [], star;
        var i;

        var animate = true;

        initializeStars();

        function executeFrame(){
            if(animate)
                requestAnimFrame(executeFrame);
            moveStars();
            drawStars();
        }

        function initializeStars(){
            centerX = canvas.width / 2;
            centerY = canvas.height / 2;

            stars = [];
            for(i = 0; i < numStars; i++){
                star = {
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    z: Math.random() * canvas.width,
                    o: '0.' + Math.floor(Math.random() * 99) + 1
                };
                stars.push(star);
            }
        }

        function moveStars(){
            for(i = 0; i < numStars; i++){
                star = stars[i];
                star.z--;

                if(star.z <= 0){
                    star.z = canvas.width;
                }
            }
        }

        function drawStars(){
            var pixelX, pixelY, pixelRadius;

            // Resize to the screen
            if(canvas.width != window.innerWidth || canvas.height != window.innerHeight){
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                initializeStars();
            }

            if(warp == 0){
                c.fillStyle = "rgba(0,10,20,1)";
                c.fillRect(0, 0, canvas.width, canvas.height);
            }

            c.fillStyle = "rgba(209, 255, 255, " + radius + ")";
            for(i = 0; i < numStars; i++){
                star = stars[i];

                pixelX = (star.x - centerX) * (focalLength / star.z);
                pixelX += centerX;
                pixelY = (star.y - centerY) * (focalLength / star.z);
                pixelY += centerY;
                pixelRadius = 1 * (focalLength / star.z);

                c.fillRect(pixelX, pixelY, pixelRadius, pixelRadius);
                c.fillStyle = "rgba(209, 255, 255, " + star.o + ")";
            }
        }

        // Warp effect on click
        document.getElementById('warp').addEventListener("click", function(e){
            warp = warp == 1 ? 0 : 1;

            // Activate hyperspace effect
            if(warp == 1){
                // Speed up stars movement
                var interval = setInterval(function(){
                    for(i = 0; i < numStars; i++){
                        stars[i].z -= 50;
                        if(stars[i].z <= 0){
                            stars[i].z = canvas.width;
                        }
                    }
                }, 10);

                setTimeout(function(){
                    clearInterval(interval);
                    window.location.href = '/';
                }, 1000);
            }
        });

        // Window resize handler
        window.addEventListener('resize', function(){
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            initializeStars();
        });

        executeFrame();
    </script>
</body>
</html>
